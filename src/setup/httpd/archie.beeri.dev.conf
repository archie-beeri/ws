<VirtualHost *:80>

	ServerName  localhost
	
	# Angular dev server 
	# Start with: ng serve --base-href /archie/beeri/dev/
	ProxyPass        /archie/beeri/dev http://localhost:4200/archie/beeri/dev/
	ProxyPassReverse /archie/beeri/dev http://localhost:4200/archie/beeri/dev/

	# Public asset-store
	Alias /assetstore/public   /var/opt/archie/beeri/assetstore/public
	<Directory /var/opt/archie/beeri/assetstore/public>
		Options FollowSymlinks
		AllowOverride none
		Require all granted
	</Directory>

	# Private asset-store
	Alias /assetstore/private   /var/opt/archie/beeri/assetstore/private
	<Directory /var/opt/archie/beeri/assetstore/private>
		Options FollowSymlinks
		AllowOverride none
		Require local
		Require ip 127.0.0.1
	</Directory>

	# Tomcat
	ProxyPass        /api http://localhost:8080/archie-beeri-ws
	ProxyPassReverse /api http://localhost:8080/archie-beeri-ws

	# Solr
	ProxyPass        /docs http://localhost:8983/solr/archie_beeri/select
	ProxyPassReverse /docs http://localhost:8983/solr/archie_beeri/select

</VirtualHost>

